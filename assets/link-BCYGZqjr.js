import{r as i,u as R,j as H,L as K}from"./chunk-EF7DTUVF-BZ_L7aGY.js";import{c as N}from"./compiler-runtime-BFwiOmU6.js";function j(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var a=t.length;for(e=0;e<a;e++)t[e]&&(r=j(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function G(){for(var t,e,r=0,n="",a=arguments.length;r<a;r++)(t=arguments[r])&&(e=j(t))&&(n&&(n+=" "),n+=e);return n}var V=(t,e,r,n,a,s,m,l)=>{let u=document.documentElement,p=["light","dark"];function d(c){(Array.isArray(t)?t:[t]).forEach(g=>{let E=g==="class",P=E&&s?a.map(S=>s[S]||S):a;E?(u.classList.remove(...P),u.classList.add(s&&s[c]?s[c]:c)):u.setAttribute(g,c)}),y(c)}function y(c){l&&p.includes(c)&&(u.style.colorScheme=c)}function o(){return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}if(n)d(n);else try{let c=localStorage.getItem(e)||r,g=m&&c==="system"?o():c;d(g)}catch{}},$=["light","dark"],M="(prefers-color-scheme: dark)",W=typeof window>"u",L=i.createContext(void 0),_={setTheme:t=>{},themes:[]},X=()=>{var t;return(t=i.useContext(L))!=null?t:_},Y=t=>i.useContext(L)?i.createElement(i.Fragment,null,t.children):i.createElement(J,{...t}),z=["light","dark"],J=({forcedTheme:t,disableTransitionOnChange:e=!1,enableSystem:r=!0,enableColorScheme:n=!0,storageKey:a="theme",themes:s=z,defaultTheme:m=r?"system":"light",attribute:l="data-theme",value:u,children:p,nonce:d,scriptProps:y})=>{let[o,c]=i.useState(()=>D(a,m)),[g,E]=i.useState(()=>o==="system"?C():o),P=u?Object.values(u):s,S=i.useCallback(h=>{let f=h;if(!f)return;h==="system"&&r&&(f=C());let w=u?u[f]:f,x=e?F(d):null,b=document.documentElement,A=v=>{v==="class"?(b.classList.remove(...P),w&&b.classList.add(w)):v.startsWith("data-")&&(w?b.setAttribute(v,w):b.removeAttribute(v))};if(Array.isArray(l)?l.forEach(A):A(l),n){let v=$.includes(m)?m:null,O=$.includes(f)?f:v;b.style.colorScheme=O}x?.()},[d]),T=i.useCallback(h=>{let f=typeof h=="function"?h(o):h;c(f);try{localStorage.setItem(a,f)}catch{}},[o]),k=i.useCallback(h=>{let f=C(h);E(f),o==="system"&&r&&!t&&S("system")},[o,t]);i.useEffect(()=>{let h=window.matchMedia(M);return h.addListener(k),k(h),()=>h.removeListener(k)},[k]),i.useEffect(()=>{let h=f=>{f.key===a&&(f.newValue?c(f.newValue):T(m))};return window.addEventListener("storage",h),()=>window.removeEventListener("storage",h)},[T]),i.useEffect(()=>{S(t??o)},[t,o]);let I=i.useMemo(()=>({theme:o,setTheme:T,forcedTheme:t,resolvedTheme:o==="system"?g:o,themes:r?[...s,"system"]:s,systemTheme:r?g:void 0}),[o,T,t,g,r,s]);return i.createElement(L.Provider,{value:I},i.createElement(U,{forcedTheme:t,storageKey:a,attribute:l,enableSystem:r,enableColorScheme:n,defaultTheme:m,value:u,themes:s,nonce:d,scriptProps:y}),p)},U=i.memo(({forcedTheme:t,storageKey:e,attribute:r,enableSystem:n,enableColorScheme:a,defaultTheme:s,value:m,themes:l,nonce:u,scriptProps:p})=>{let d=JSON.stringify([r,e,s,t,l,m,n,a]).slice(1,-1);return i.createElement("script",{...p,suppressHydrationWarning:!0,nonce:typeof window>"u"?u:"",dangerouslySetInnerHTML:{__html:`(${V.toString()})(${d})`}})}),D=(t,e)=>{if(W)return;let r;try{r=localStorage.getItem(t)||void 0}catch{}return r||e},F=t=>{let e=document.createElement("style");return t&&e.setAttribute("nonce",t),e.appendChild(document.createTextNode("*,*::before,*::after{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),document.head.appendChild(e),()=>{window.getComputedStyle(document.body),setTimeout(()=>{document.head.removeChild(e)},1)}},C=t=>(t||(t=window.matchMedia(M)),t.matches?"dark":"light");const Q=t=>{const{language:e,to:r,keepSearchParams:n}=t,[a]=R(),{lng:s,...m}=Object.fromEntries(a.entries()),l=e??s,p=new URLSearchParams(m).toString(),d=p.length>0,y=l||d;let o;return o=r+(y?`?${n&&d?`${p}${l?"&":""}`:""}${l?`lng=${l}`:""}`:""),o},Z=t=>{const e=N.c(16);let r,n,a,s,m,l;e[0]!==t?({prefetch:a,viewTransition:s,keepSearchParams:m,to:l,language:r,...n}=t,e[0]=t,e[1]=r,e[2]=n,e[3]=a,e[4]=s,e[5]=m,e[6]=l):(r=e[1],n=e[2],a=e[3],s=e[4],m=e[5],l=e[6]);const u=a===void 0?"intent":a,p=s===void 0?!0:s,d=m===void 0?!1:m;let y;e[7]!==d||e[8]!==r||e[9]!==l?(y={language:r,to:l,keepSearchParams:d},e[7]=d,e[8]=r,e[9]=l,e[10]=y):y=e[10];const o=Q(y);let c;return e[11]!==o||e[12]!==u||e[13]!==n||e[14]!==p?(c=H.jsx(K,{prefetch:u,viewTransition:p,to:o,...n}),e[11]=o,e[12]=u,e[13]=n,e[14]=p,e[15]=c):c=e[15],c};export{Y as J,Z as L,G as c,X as z};
